{"version":3,"sources":["resources/sites.json","main.js"],"names":["module","exports","name","url","logo","searchEngineSelector","searchEngineSelected","localStorageBookmarks","defaultBookmarks","JSON","parse","localStorage","getItem","icon","$searchEngineList","$","find","trimUrl","replace","renderMyBookmarks","remove","forEach","item","index","$li","insertBefore","on","window","open","e","splice","setItem","stringify","stopPropagation","renderBookmarks","bookmarkFile","require","each","$bookmarkHeader","bookmarkList","text","insertAfterElem","dataItem","insertAfter","wrapAll","setSearchEngine","searchEngine","searchFormParams","action","placeholder","i","textContent","addClass","attr","removeClass","target","newUrl","prompt","indexOf","push","toUpperCase","document","key","length","toLowerCase","onbeforeunload"],"mappings":"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","file":"main.46800587.js","sourceRoot":"..\\src","sourcesContent":["module.exports={\"前端开发\":[{name:\"CodePen\",url:\"https://codepen.io/\",logo:\"site-icons/codepen.ico\"},{name:\"BootCDN\",url:\"https://www.bootcdn.cn/\",logo:\"site-icons/bootcdn.ico\"},{name:\"Bootstrap\",url:\"https://getbootstrap.com/\",logo:\"site-icons/bootstrap.ico\"},{name:\"Bootstrap 中文网\",url:\"https://www.bootcss.com/\",logo:\"site-icons/bootstrapzh.ico\"},{name:\"CSS-Tricks\",url:\"https://css-tricks.com/\",logo:\"site-icons/css-tricks.ico\"},{name:\"CSS Gradient\",url:\"https://cssgradient.io/\",logo:\"site-icons/cssgradient.png\"},{name:\"Can I use\",url:\"https://caniuse.com/\",logo:\"site-icons/caniuse.ico\"},{name:\"browsershots\",url:\"http://browsershots.org/\",logo:\"site-icons/browsershots.ico\"},{name:\"MDN Web Docs\",url:\"https://developer.mozilla.org/en-US/\",logo:\"site-icons/mdnwebdocs.png\"},{name:\"Snippets - Web Designer Wall\",url:\"https://webdesignerwall.com/\",logo:\"site-icons/webdesignerwall.ico\"}],\"图库\":[{name:\"站酷\",url:\"https://www.zcool.com.cn/\",logo:\"site-icons/zcool.ico\"},{name:\"Dribble\",url:\"https://dribbble.com/\",logo:\"site-icons/dribble.ico\"},{name:\"Behance\",url:\"https://www.behance.net/\",logo:\"site-icons/behance.ico\"},{name:\"365PSD\",url:\"https://cn.365psd.com/\",logo:\"site-icons/365psd.png\"}],\"图标\":[{name:\"Iconfont\",url:\"https://www.iconfont.cn/\",logo:\"site-icons/iconfont.ico\"},{name:\"Material Design Iconic Font\",url:\"http://zavoloklom.github.io/material-design-iconic-font/index.html\",logo:\"site-icons/materialdesignicon.ico\"}],\"字体\":[{name:\"字体传奇\",url:\"http://www.ziticq.com/\",logo:\"site-icons/ziticq.ico\"},{name:\"Google Fonts\",url:\"https://fonts.google.com/\",logo:\"site-icons/googlefonts.ico\"}],\"配色\":[{name:\"CSS colour names\",url:\"https://colours.neilorangepeel.com/\",logo:\"site-icons/csscolournames.png\"},{name:\"Material Design Colors\",url:\"https://www.materialui.co/colors\",logo:\"site-icons/materialdesigncolors.gif\"}]};","const searchEngineSelector = \".searchEngineList\";\r\nconst searchEngineSelected = \"searchEngineHighlighted\";\r\nconst localStorageBookmarks = \"compassMyBookmarks\";\r\n\r\nconst defaultBookmarks = JSON.parse(localStorage.getItem(localStorageBookmarks)) ||\r\n[\r\n  {icon: 'B', url: 'https://www.behance.net/'},\r\n  {icon: 'D', url: 'https://developer.mozilla.org/en-US/'}\r\n];\r\n\r\nconst $searchEngineList = $(searchEngineSelector).find(\"li\");\r\n\r\nsetSearchEngine(localStorage.getItem(searchEngineSelected) || \"百度\");\r\nrenderMyBookmarks();\r\nrenderBookmarks()\r\n\r\n$searchEngineList.on(\"click\", (e)=>{\r\n  \r\n  $searchEngineList.removeClass(searchEngineSelected);\r\n\r\n  setSearchEngine(e.target.textContent);\r\n});\r\n\r\n$(\".addIcon\").on(\"click\", (e) => {\r\n  let newUrl = window.prompt(\"请输入您要添加的网址:\");\r\n  if (newUrl.indexOf('http') !== 0) {\r\n    newUrl = 'https://' + newUrl\r\n  }\r\n\r\n  defaultBookmarks.push({\r\n    icon: trimUrl(newUrl)[0].toUpperCase(),\r\n    url: newUrl\r\n  });\r\n  \r\n  localStorage.setItem(localStorageBookmarks, JSON.stringify(defaultBookmarks));\r\n\r\n  renderMyBookmarks();\r\n});\r\n\r\n$(document).on(\"keypress\", (e)=>{\r\n  const { key } = e;\r\n  for (let i = 0; i < defaultBookmarks.length; ++i) {\r\n    if (defaultBookmarks[i].icon.toLowerCase() === key) {\r\n      window.open(defaultBookmarks[i].url, \"_self\");\r\n    }\r\n  }\r\n});\r\n\r\nwindow.onbeforeunload = () => {\r\n  localStorage.setItem(searchEngineSelected, $(`.${searchEngineSelected}`).text());\r\n}\r\n\r\nfunction trimUrl(url) {\r\n  return url.replace(/^http(s)?:\\/\\/(www.)?/, \"\").replace(/\\/.*/, \"\");\r\n}\r\n\r\nfunction renderMyBookmarks() {\r\n  $(\".myBookmarks ul\").find(\"li:not(.addIcon)\").remove();\r\n  defaultBookmarks.forEach((item, index) => {\r\n    const $li = $(`<li><div class=\"siteDiv\">\r\n        <div class=\"iconText\">${item.icon}</div>\r\n        <div class=\"siteUrl\">${trimUrl(item.url)}</div>\r\n        <div class=\"closeIcon\"><svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <rect x=\"9.24084\" y=\"28.8388\" width=\"28\" height=\"2\" rx=\"1\" transform=\"rotate(-45 9.24084 28.8388)\" fill=\"#263238\"/>\r\n        <rect x=\"29.3933\" y=\"30.6066\" width=\"28\" height=\"2\" rx=\"1\" transform=\"rotate(-135 29.3933 30.6066)\" fill=\"#263238\"/>\r\n        </svg></div>\r\n      </div></li>`).insertBefore($(\".addIcon\"));\r\n    $li.on(\"click\", ()=>{\r\n      window.open(item.url, \"_self\");\r\n    });\r\n    $li.on(\"click\", \".closeIcon\", (e)=>{\r\n      defaultBookmarks.splice(index, 1);\r\n      localStorage.setItem(localStorageBookmarks, JSON.stringify(defaultBookmarks));\r\n      e.stopPropagation();\r\n      renderMyBookmarks();\r\n    });\r\n  });\r\n}\r\n\r\nfunction renderBookmarks() {\r\n  const bookmarkFile = require(\"./resources/sites.json\");\r\n  $(\".bookmarks\").each((index, item)=>{\r\n    const $bookmarkHeader = $(item).find(\"h3\");\r\n    const bookmarkList = bookmarkFile[$bookmarkHeader.text()];\r\n    let insertAfterElem = $bookmarkHeader;\r\n    bookmarkList.forEach((dataItem)=>{ \r\n      const $li = $(`<li class=\"bookmarks-${index}\">\r\n      <div class=\"bookmarkEntry\">\r\n        <div class=\"icon-wrapper\"><img src=\"resources/${dataItem.logo}\" alt=\"icon\"></div>\r\n        <div class=\"icon-text\">${dataItem.name}</div>\r\n      </div></li>`);\r\n      $li.on(\"click\", ()=>{\r\n        window.open(dataItem.url, \"_self\");\r\n      });\r\n      $li.insertAfter(insertAfterElem);\r\n      insertAfterElem = $li;\r\n    });\r\n    $(`.bookmarks-${index}`).wrapAll(\"<ul></ul>\");\r\n  });\r\n}\r\n\r\n\r\nfunction setSearchEngine(searchEngine) {\r\n  const searchFormParams = {\r\n    \"百度\": { action: \"//baidu.com/s\", name: \"wd\", placeholder: \"百度一下\"},\r\n    \"谷歌\": { action: \"//google.com/search\", name: \"q\", placeholder: \"Google\"},\r\n    \"必应\": { action: \"//bing.com/search\", name: \"q\", placeholder: \"Bing\"}\r\n  };\r\n\r\n  $searchEngineList.each((i, item)=>{\r\n    if (item.textContent === searchEngine) {\r\n      $(item).addClass(searchEngineSelected);\r\n    }\r\n  });\r\n\r\n  $(\".searchForm\").attr(\"action\", searchFormParams[searchEngine].action)\r\n  .find(\"input\").attr(\"name\", searchFormParams[searchEngine].name)\r\n  .attr(\"placeholder\", searchFormParams[searchEngine].placeholder);\r\n}"]}